{"version":3,"file":"static/js/943.cf70de73.chunk.js","mappings":"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","sources":["components/mainInfo/MainInfo.js","components/pages/SingleCoffeePage.js","components/errorMessage/ErrorMessage.js","utils/setContent.js","utils/useSearchProducts.js"],"sourcesContent":["const MainInfo = ({data, text}) => {\r\n    let {thumbnail, name, heading} = data;\r\n\r\n    if(!heading) {\r\n        heading = name;\r\n    }\r\n\r\n    return (\r\n        <section className=\"about\">\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"img-block\">\r\n                        <img src={thumbnail} alt={name}/>\r\n                    </div>\r\n                    <div className=\"text-block\">\r\n                        <h1 className=\"decor\">{heading}</h1>\r\n                        {text}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\n\r\nexport default MainInfo;","import { Helmet } from 'react-helmet';\nimport { useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\n\nimport Header from \"../header/Header\";\nimport Footer from \"../footer/Footer\";\nimport MainInfo from \"../mainInfo/MainInfo\";\nimport Page404 from \"../pages/Page404\";\n\nimport setContent from '../../utils/setContent';\nimport useSearchProducts from '../../utils/useSearchProducts';\n\n\nconst SingleCoffeePage = () => {\n  const {id} = useParams();\n  const [product, setProduct] = useState(null);\n  const {getProducts, process, clearError, setProcess} = useSearchProducts();\n\n  useEffect(() => {\n    onRequest();\n    // eslint-disable-next-line\n  },[]);\n\n  const onRequest = () => {\n    clearError();\n    getProducts()\n      .then(filterProducts)\n      .then(() => setProcess('confirmed'))\n  }\n\n  const filterProducts = (products) => {\n    setProduct(products.filter(product => product.id === +id));\n  }\n\n  return (\n    <>\n      {setContent(process, ProductInfo, product)}\n    </>\n  );\n}\n\nconst ProductInfo = ({data}) => {\n  return (\n    data.length > 0 ? <Content data={data}/> : <Page404/>\n  )\n}\n\nconst Content = ({data}) => {\n  const {name, description, region, flavor, weight, price} = data[0];\n  const flavorDescription = flavor.join(\", \");\n\n  return (\n    <>\n      <Helmet>\n        <meta\n          name=\"description\"\n          content={`${name} coffee with information about it`}\n        />\n        <title>{name} coffee</title>\n      </Helmet>\n      <Header/>\n      <div className=\"page-holder\">\n          <main className=\"main\" id=\"main\">\n            <section className=\"products\">\n              <div className=\"container container-md\">\n                <MainInfo \n                  data={data[0]} \n                  textCenter={false}\n                  text={\n                    <ul className=\"product-info-list\">\n                      <li><strong>Description:</strong> {description}</li>\n                      <li><strong>Region:</strong> {region}</li>\n                      <li><strong>Flavor:</strong> {flavorDescription}</li>\n                      <li><strong>Weight:</strong> {weight}</li>\n                      <li><strong>Price:</strong> <span className=\"price\">${price}</span></li>\n                    </ul>\n                  }\n                  />\n              </div>\n            </section>\n          </main>\n      </div>\n      <Footer/>\n    </>\n  )\n}\n\nexport default SingleCoffeePage;","const ErrorMessage = () => {\r\n    return (\r\n        <strong class=\"h2 error\">An error occurred. We apologise for the inconvenience. Please try again later</strong>\r\n    )\r\n}\r\n\r\nexport default ErrorMessage;","import Spinner from \"../components/spinner/Spinner\";\r\nimport ErrorMessage from '../components/errorMessage/ErrorMessage';\r\n\r\nconst setContent = (process, Component, data) => {\r\n    switch (process) {\r\n        case 'waiting':\r\n            return <Spinner/>;\r\n        case 'loading':\r\n            return <Spinner/>;\r\n        case 'confirmed':\r\n            return <Component data={data}/>;\r\n        case 'error':\r\n            return <ErrorMessage/>;\r\n        default:\r\n            throw new Error('Unexpected process state');\r\n    }\r\n}\r\n\r\nexport default setContent;","import { useState, useCallback } from \"react\";\r\n\r\nconst useSearchProducts = () => {\r\n    const [process, setProcess] = useState('waiting');\r\n\r\n    const getProducts = useCallback(async (url = \"https://fake-coffee-api.vercel.app/api\", method = \"GET\", body = null, headers = {\"Content-Type\": \"application/json\"}) => {\r\n        setProcess('loading');\r\n\r\n        try {\r\n            const response = await fetch(url, {method, body, headers});\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`Could not fetch ${url}, status: ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n            const results = data.map(_transformProduct);\r\n            return results;\r\n\r\n        } catch(e) {\r\n            setProcess('error');\r\n            throw e;\r\n        }\r\n  \r\n    }, []);\r\n\r\n    const clearError = useCallback(() => {\r\n        setProcess('loading');\r\n    }, []);\r\n\r\n    const _transformProduct = (products) => {\r\n\t\treturn {\r\n\t\t\tid: products.id,\r\n            pageId: products._id,\r\n\t\t\tname: products.name,\r\n\t\t\tdescription: products.description,\r\n            price: products.price,\r\n            region: products.region,\r\n            weight: products.weight,\r\n            flavor: products.flavor_profile,\r\n\t\t\tthumbnail: products.image_url\r\n\t\t};\r\n\t};\r\n\r\n    return {getProducts, clearError, setProcess, process};\r\n}\r\n\r\nexport default useSearchProducts;\r\n"],"names":["_ref","data","text","thumbnail","name","heading","_jsx","className","children","_jsxs","src","alt","ProductInfo","length","Content","Page404","_ref2","description","region","flavor","weight","price","flavorDescription","join","_Fragment","Helmet","content","concat","Header","id","MainInfo","textCenter","Footer","SingleCoffeePage","useParams","product","setProduct","useState","getProducts","process","clearError","setProcess","useSearchProducts","useEffect","onRequest","then","filterProducts","products","filter","setContent","ErrorMessage","class","Component","Spinner","Error","useCallback","async","url","arguments","undefined","method","body","headers","response","fetch","ok","status","json","map","_transformProduct","e","pageId","_id","flavor_profile","image_url"],"sourceRoot":""}